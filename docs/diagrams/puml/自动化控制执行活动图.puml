@startuml 自动化控制执行活动图

start

:系统监控环境数据;

if (数据符合自动化规则条件?) then (是)
  :检索匹配的自动化规则;
  :验证规则有效性;
  
  if (规则有效?) then (是)
    :执行控制指令;
    :记录控制操作;
    
    if (控制执行成功?) then (是)
      :更新设备状态;
      :记录执行日志;
    else (否)
      :记录错误日志;
      :发送执行失败通知;
    endif
  else (否)
    :标记规则为失效;
    :通知管理员;
  endif
else (否)
  :继续监控;
endif

stop

@enduml